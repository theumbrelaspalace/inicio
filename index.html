<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Umbrella's Palace</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
body {
    font-family: 'Inter', sans-serif;
    background-color: #f0f4f8; /* Un color de fondo suave */
}
.gradient-bg {
    background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%); /* Purple to Blue gradient */
}
.text-gradient {
    background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}
.product-image-container {
    position: relative;
    width: 100%;
    /* Tailwind h-48 es 12rem o 192px. Aquí solo ponemos el número para la compatibilidad con el estilo */
    height: 12rem; 
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #e2e8f0; /* Light gray background for placeholder */
    border-radius: 0.5rem; /* Matches rounded-lg */
    overflow: hidden;
}
.product-image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    /* La transición de opacidad ya no es estrictamente necesaria si no hay spinner, pero no molesta */
    transition: opacity 0.3s ease-in-out;
}
/* Los estilos para el spinner ya no son necesarios ya que no generamos imágenes con API */
/*
.product-image-container .loading-spinner {
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-top: 4px solid #6a11cb;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    position: absolute;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
*/
</style>
</head>
<body class="flex flex-col min-h-screen">
    <header class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 shadow-lg rounded-b-xl">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center mb-4 md:mb-0">
                <img src="IMG_1330_2.jpeg" alt="Logo The Umbrella's Palace" class="h-16 w-16 mr-3 rounded-full shadow-md">
                <h1 class="text-4xl font-extrabold text-center md:text-left">The Umbrella's Palace</h1>
            </div>
            <nav class="text-lg">
                <ul class="flex space-x-6">
                    <li><a href="#productos" class="hover:text-blue-200 transition duration-300">Productos</a></li>
                    <li><a href="#gemini-feature" class="hover:text-blue-200 transition duration-300">Encuentra tu Sombrilla Ideal ✨</a></li>
                    <li><a href="#contacto" class="hover:text-blue-200 transition duration-300">Contacto</a></li>
                    <li><a href="#redes" class="hover:text-blue-200 transition duration-300">Redes Sociales</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="flex-grow container mx-auto p-6 mt-8">
        <section class="bg-white p-8 rounded-2xl shadow-xl mb-12 text-center">
            <h2 class="text-5xl font-bold text-gray-800 mb-6">¡Tu Refugio Bajo la Lluvia y el Sol!</h2>
            <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
                En The Umbrella's Palace, ofrecemos la más fina selección de sombrillas en Querétaro.
                Desde diseños elegantes hasta los más resistentes, tenemos la sombrilla perfecta para ti.
            </p>
            <img src="amarillopromo.jpg" alt="Descripción de tu imagen" class="w-full h-auto rounded-xl shadow-md mb-8 mx-auto max-w-4xl object-cover">
            <a href="#productos" class="inline-block bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">
                Explora Nuestros Productos
            </a>
        </section>

        <section class="mb-12 p-6 bg-blue-50 rounded-lg shadow-md">
            <h3 class="text-3xl font-bold text-center mb-6 text-gradient">Nuestra Propuesta de Valor</h3>
            <p class="text-gray-700 text-lg leading-relaxed text-center max-w-3xl mx-auto">
                Ofrecemos sombrillas de diseño exclusivo, duraderas, con protección UV avanzada, ideales para toda ocasión.
                Fusionamos estilo, funcionalidad y sustentabilidad en cada pieza, brindando una experiencia de compra premium
                desde la comodidad de tu hogar.
            </p>
        </section>

        <section id="productos" class="bg-white p-8 rounded-2xl shadow-xl mb-12">
            <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Nuestra Colección de Sombrillas</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-gray-50 p-6 rounded-xl shadow-md text-center transform hover:scale-105 transition duration-300">
                    <div class="product-image-container">
                        <img src="Clasica.PNG" alt="Sombrilla clásica elegante azul" class="w-full h-48 object-cover rounded-lg mb-4">
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-700 mb-2">Sombrilla Clásica Elegante</h3>
                    <p class="text-gray-600 mb-4">Perfecta para cualquier ocasión, resistente y con estilo atemporal.</p>
                    <span class="text-xl font-bold text-blue-600">$350 MXN</span>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl shadow-md text-center transform hover:scale-105 transition duration-300">
                    <div class="product-image-container">
                        <img src="Viajera.PNG" alt="Sombrilla compacta de viaje morada" class="w-full h-48 object-cover rounded-lg mb-4">
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-700 mb-2">Sombrilla Compacta de Viaje</h3>
                    <p class="text-gray-600 mb-4">Ligera y fácil de llevar, ideal para tus aventuras diarias.</p>
                    <span class="text-xl font-bold text-blue-600">$280 MXN</span>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl shadow-md text-center transform hover:scale-105 transition duration-300">
                    <div class="product-image-container">
                        <img src="Innovadora.PNG" alt="Sombrilla invertida innovadora rosa" class="w-full h-48 object-cover rounded-lg mb-4">
                    </div>
                    <h3 class="text-2xl font-semibold text-gray-700 mb-2">Sombrilla Invertida Innovadora</h3>
                    <p class="text-gray-600 mb-4">Diseño único que te mantiene seco al entrar y salir del auto.</p>
                    <span class="text-xl font-bold text-blue-600">$420 MXN</span>
                </div>
            </div>
        </section>

        <section id="gemini-feature" class="bg-gradient-to-br from-purple-500 to-pink-500 p-8 rounded-2xl shadow-xl mb-12 text-center text-white">
            <h2 class="text-4xl font-bold mb-6">Encuentra Tu Sombrilla Ideal ✨</h2>
            <p class="text-xl mb-6 max-w-3xl mx-auto">
                Describe qué tipo de sombrilla necesitas (ej. "una sombrilla para la lluvia fuerte y el viento" o "una sombrilla pequeña para viajar")
                y nuestro asistente inteligente te recomendará la mejor opción de nuestra colección.
            </p>
            <div class="flex flex-col items-center space-y-4">
                <input type="text" id="umbrella-needs" placeholder="Describe tus necesidades aquí..."
                    class="w-full md:w-2/3 p-3 rounded-lg shadow-inner text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400">
                <button id="recommend-button"
                    class="bg-white text-purple-600 font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105 hover:bg-gray-100">
                    Recomendar Sombrilla ✨
                </button>
                <div id="recommendation-result" class="mt-6 text-lg bg-white bg-opacity-20 p-4 rounded-lg shadow-md w-full md:w-2/3 text-left hidden">
                    <p class="font-semibold mb-2">Nuestra recomendación:</p>
                    <p id="recommendation-text"></p>
                </div>
                <div id="loading-indicator" class="hidden mt-4 text-white text-lg">
                    Cargando recomendación...
                </div>
            </div>
        </section>

        <section id="contacto" class="bg-white p-8 rounded-2xl shadow-xl mb-12 text-center">
            <h2 class="text-4xl font-bold text-gray-800 mb-6">Contáctanos</h2>
            <p class="text-xl text-gray-600 mb-4">¿Tienes preguntas o necesitas ayuda para elegir tu sombrilla?</p>
            <p class="text-3xl font-extrabold text-blue-600 mb-6">Teléfono: 555000223</p>
            <p class="text-lg text-gray-700">Estamos ubicados en Querétaro y listos para atenderte.</p>
        </section>

        <section id="redes" class="bg-white p-8 rounded-2xl shadow-xl text-center">
            <h2 class="text-4xl font-bold text-gray-800 mb-6">Síguenos en Redes Sociales</h2>
            <p class="text-xl text-gray-600 mb-8">Mantente al día con nuestras novedades, ofertas y nuevos productos.</p>
            <div class="flex justify-center space-x-8">
                <a href="https://www.instagram.com/theumbrellaspalace?igsh=MTI0ODR4bWRyNDBrZQ%3D%3D&utm_source=qr" target="_blank" rel="noopener noreferrer" class="text-purple-600 hover:text-purple-800 transition duration-300 transform hover:scale-110">
                    <i class="fab fa-instagram text-6xl"></i>
                    <span class="block text-lg font-medium mt-2">Instagram</span>
                </a>
                <a href="http://tiktok.com/@theumbrellaspalace" target="_blank" rel="noopener noreferrer" class="text-black hover:text-gray-700 transition duration-300 transform hover:scale-110">
                    <i class="fab fa-tiktok text-6xl"></i>
                    <span class="block text-lg font-medium mt-2">TikTok</span>
                </a>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white p-6 mt-12 rounded-t-xl shadow-inner">
        <div class="container mx-auto text-center text-gray-400">
            &copy; 2025 The Umbrella's Palace. Todos los derechos reservados.
        </div>
    </footer>

    <div id="message-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
            <p id="modal-message-text" class="text-lg text-gray-800 mb-4"></p>
            <button id="modal-close-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition duration-300">
                Aceptar
            </button>
        </div>
    </div>

    <script type="module">
        // Function to show custom message box
        function showMessage(message) {
            const messageModal = document.getElementById('message-modal');
            const modalMessageText = document.getElementById('modal-message-text');
            modalMessageText.textContent = message;
            messageModal.classList.remove('hidden');
        }

        // Event listener for custom message box close button
        document.getElementById('modal-close-button').addEventListener('click', () => {
            document.getElementById('message-modal').classList.add('hidden');
        });

        // Event listener for clicking outside the modal to close it
        document.getElementById('message-modal').addEventListener('click', (event) => {
            if (event.target === document.getElementById('message-modal')) {
                document.getElementById('message-modal').classList.add('hidden');
            }
        });

        // Función para llamar a la API de Gemini para recomendaciones
        async function getUmbrellaRecommendation(prompt) {
            const loadingIndicator = document.getElementById('loading-indicator');
            const recommendationResult = document.getElementById('recommendation-result');
            const recommendationText = document.getElementById('recommendation-text');

            loadingIndicator.classList.remove('hidden');
            recommendationResult.classList.add('hidden');
            recommendationText.textContent = '';

            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: `Basado en la siguiente descripción, sugiere una sombrilla de nuestra colección (Sombrilla Clásica Elegante, Sombrilla Compacta de Viaje, Sombrilla Invertida Innovadora). Responde con el nombre de la sombrilla y una breve razón. Descripción: ${prompt}` }] });

                const payload = { contents: chatHistory };
                // ¡IMPORTANTE! Reemplaza 'AIzaSyAxrgZrnfPG0I_BG8K1ZvBhbvGe6TILtHk' con tu clave API de Google AI Studio
                const apiKey = "AIzaSyAxrgZrnfPG0I_BG8K1ZvBhbvGe6TILtHk"; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    let errorMessage = `Error de la API de recomendación: ${response.status} ${response.statusText}.`;
                    if (response.status === 401 || response.status === 403) {
                        errorMessage = `Error: Problema de autenticación con la API de recomendación.`;
                    } else if (response.status === 429) {
                        errorMessage = `Error: Demasiadas solicitudes a la API de recomendación. Inténtalo de nuevo más tarde.`;
                    }
                    const errorData = await response.text();
                    console.error(errorMessage + " Respuesta cruda:", errorData);
                    throw new Error(errorMessage + ` Detalles: ${errorData.substring(0, 100)}...`);
                }

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    recommendationText.textContent = text;
                    recommendationResult.classList.remove('hidden');
                } else {
                    recommendationText.textContent = 'No se pudo generar una recomendación. Inténtalo de nuevo.';
                    recommendationResult.classList.remove('hidden');
                }
            } catch (error) {
                console.error("Error al obtener la recomendación de sombrilla:", error);
                recommendationText.textContent = `Ocurrió un error: ${error.message}. Por favor, inténtalo de nuevo.`;
                recommendationResult.classList.remove('hidden');
            } finally {
                loadingIndicator.classList.add('hidden');
            }
        }

        // Event Listener para el botón de recomendación
        document.getElementById('recommend-button').addEventListener('click', () => {
            const umbrellaNeeds = document.getElementById('umbrella-needs').value;
            if (umbrellaNeeds.trim() !== '') {
                getUmbrellaRecommendation(umbrellaNeeds);
            } else {
                showMessage('Por favor, describe tus necesidades para la sombrilla.');
            }
        });
    </script>
</body>
</html>
